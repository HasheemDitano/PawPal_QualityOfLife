@model PetAssessmentViewModel
@{
    ViewData["Title"] = "Pet Quality of Life Assessment";
}

<div class="container position-relative">
    <div class="row justify-content-center">
        <div class="col-md-11">
            <!-- Creative Header Section -->
            <div class="text-center mb-5">
                <div class="d-inline-block position-relative">
                    <h1 class="display-4 mb-3 position-relative">
                        <span class="heart-pulse">??</span>
                        Pet Assessment
                        <span class="paw-bounce">??</span>
                    </h1>
                    <p class="lead fs-4">Comprehensive Wellness Evaluation</p>
                </div>
            </div>

            <div class="card shadow position-relative">
                <div class="card-header bg-primary text-white position-relative overflow-hidden">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h2 class="mb-0 d-flex align-items-center">
                                <span class="icon-container me-3">
                                    <i class="fas fa-heart text-white fs-1 heartbeat"></i>
                                </span>
                                Quality of Life Assessment
                            </h2>
                            <p class="mb-0 mt-2 opacity-90">Let's evaluate your pet's wellbeing together</p>
                        </div>
                        <div class="col-md-4 text-end">
                            <div class="assessment-icons">
                                <span class="assessment-icon">??</span>
                                <span class="assessment-icon">??</span>
                                <span class="assessment-icon">??</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="card-body position-relative">
                    <form asp-action="Assessment" method="post" class="needs-validation assessment-form" novalidate>
                        @Html.AntiForgeryToken()
                        
                        <!-- Pet Information Section -->
                        <div class="assessment-section" data-section="1">
                            <div class="section-header mb-4">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h4 class="section-title d-flex align-items-center">
                                            <span class="step-number me-3">1</span>
                                            <i class="fas fa-paw text-primary me-2 icon-bounce"></i>
                                            Pet Information
                                        </h4>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-md-6 mb-4">
                                    <div class="form-group-animated">
                                        <label asp-for="PetName" class="form-label creative-label">
                                            <i class="fas fa-tag text-primary me-2"></i>
                                            Pet Name
                                        </label>
                                        <input asp-for="PetName" class="form-control creative-input" 
                                               placeholder="What's your furry friend's name?" />
                                        <span asp-validation-for="PetName" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                                
                                <div class="col-md-6 mb-4">
                                    <div class="form-group-animated">
                                        <label asp-for="PetType" class="form-label creative-label">
                                            <i class="fas fa-paw text-primary me-2"></i>
                                            Pet Type
                                        </label>
                                        <select asp-for="PetType" class="form-select creative-input pet-type-select">
                                            <option value="">?? Choose your pet type</option>
                                            <option value="Dog">?? Dog</option>
                                            <option value="Cat">?? Cat</option>
                                            <option value="Bird">?? Bird</option>
                                            <option value="Rabbit">?? Rabbit</option>
                                            <option value="Hamster">?? Hamster</option>
                                            <option value="Guinea Pig">?? Guinea Pig</option>
                                            <option value="Ferret">?? Ferret</option>
                                            <option value="Other">?? Other</option>
                                        </select>
                                        <span asp-validation-for="PetType" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-4">
                                    <div class="form-group-animated">
                                        <label asp-for="PetAge" class="form-label creative-label">
                                            <i class="fas fa-birthday-cake text-primary me-2"></i>
                                            Age (years)
                                        </label>
                                        <input asp-for="PetAge" class="form-control creative-input" type="number" 
                                               min="0" max="30" placeholder="0" />
                                        <span asp-validation-for="PetAge" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-4">
                                    <div class="form-group-animated">
                                        <label asp-for="PetBreed" class="form-label creative-label">
                                            <i class="fas fa-dna text-primary me-2"></i>
                                            Breed
                                        </label>
                                        <input asp-for="PetBreed" class="form-control creative-input" 
                                               placeholder="e.g., Golden Retriever, Mixed" />
                                        <span asp-validation-for="PetBreed" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                                
                                <div class="col-md-4 mb-4">
                                    <div class="form-group-animated">
                                        <label asp-for="OwnerName" class="form-label creative-label">
                                            <i class="fas fa-user text-primary me-2"></i>
                                            Your Name
                                        </label>
                                        <input asp-for="OwnerName" class="form-control creative-input" 
                                               placeholder="Pet parent's name" />
                                        <span asp-validation-for="OwnerName" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quality Assessment Section -->
                        <div class="assessment-section" data-section="2">
                            <div class="section-header mb-4">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h4 class="section-title d-flex align-items-center">
                                            <span class="step-number me-3">2</span>
                                            <i class="fas fa-heart-pulse text-primary me-2 pulse-animation"></i>
                                            Wellness Assessment
                                        </h4>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="rating-instructions mb-5">
                                <div class="instruction-card">
                                    <div class="row align-items-center">
                                        <div class="col-md-2 text-center">
                                            <i class="fas fa-info-circle text-primary fa-3x pulse-slow"></i>
                                        </div>
                                        <div class="col-md-10">
                                            <h5 class="fw-bold mb-2">How to Rate</h5>
                                            <p class="mb-2">Please rate each category from <strong>1 to 5</strong> based on your observation:</p>
                                            <div class="rating-legend">
                                                <span class="legend-item"><strong>1</strong> Very Poor</span>
                                                <span class="legend-item"><strong>2</strong> Poor</span>
                                                <span class="legend-item"><strong>3</strong> Fair</span>
                                                <span class="legend-item"><strong>4</strong> Good</span>
                                                <span class="legend-item"><strong>5</strong> Excellent</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <!-- Pain Level -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="pain">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-band-aid category-icon"></i>
                                                Pain Management
                                            </h5>
                                            <p class="category-subtitle">Lower scores indicate more pain</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="PainLevel" class="rating-input" type="radio" 
                                                           value="@i" id="pain@(i)" />
                                                    <label class="rating-label" for="pain@(i)">
                                                        <span class="rating-number">@i</span>
                                                        <span class="rating-description">
                                                            @(i switch {
                                                                1 => "Severe",
                                                                2 => "Moderate", 
                                                                3 => "Mild",
                                                                4 => "Minimal",
                                                                5 => "None",
                                                                _ => ""
                                                            })
                                                        </span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="PainLevel" class="text-danger validation-message"></span>
                                    </div>
                                </div>

                                <!-- Mobility -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="mobility">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-running category-icon"></i>
                                                Mobility & Movement
                                            </h5>
                                            <p class="category-subtitle">Ability to move comfortably</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="Mobility" class="rating-input" type="radio" 
                                                           value="@i" id="mobility@(i)" />
                                                    <label class="rating-label" for="mobility@(i)">
                                                        <span class="rating-number">@i</span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="Mobility" class="text-danger validation-message"></span>
                                    </div>
                                </div>

                                <!-- Appetite -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="appetite">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-utensils category-icon"></i>
                                                Appetite & Eating
                                            </h5>
                                            <p class="category-subtitle">Interest in food and treats</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="Appetite" class="rating-input" type="radio" 
                                                           value="@i" id="appetite@(i)" />
                                                    <label class="rating-label" for="appetite@(i)">
                                                        <span class="rating-number">@i</span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="Appetite" class="text-danger validation-message"></span>
                                    </div>
                                </div>

                                <!-- Happiness -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="happiness">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-smile category-icon"></i>
                                                Happiness & Mood
                                            </h5>
                                            <p class="category-subtitle">Overall contentment level</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="Happiness" class="rating-input" type="radio" 
                                                           value="@i" id="happiness@(i)" />
                                                    <label class="rating-label" for="happiness@(i)">
                                                        <span class="rating-number">@i</span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="Happiness" class="text-danger validation-message"></span>
                                    </div>
                                </div>

                                <!-- Activity Level -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="activity">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-bolt category-icon"></i>
                                                Activity & Energy
                                            </h5>
                                            <p class="category-subtitle">Enthusiasm for activities</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="ActivityLevel" class="rating-input" type="radio" 
                                                           value="@i" id="activity@(i)" />
                                                    <label class="rating-label" for="activity@(i)">
                                                        <span class="rating-number">@i</span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="ActivityLevel" class="text-danger validation-message"></span>
                                    </div>
                                </div>

                                <!-- Social Interaction -->
                                <div class="col-md-6 mb-4">
                                    <div class="category-card" data-category="social">
                                        <div class="category-header">
                                            <h5 class="category-title">
                                                <i class="fas fa-users category-icon"></i>
                                                Social Engagement
                                            </h5>
                                            <p class="category-subtitle">Interaction with family & pets</p>
                                        </div>
                                        <div class="rating-container">
                                            @for (int i = 1; i <= 5; i++)
                                            {
                                                <div class="rating-option">
                                                    <input asp-for="SocialInteraction" class="rating-input" type="radio" 
                                                           value="@i" id="social@(i)" />
                                                    <label class="rating-label" for="social@(i)">
                                                        <span class="rating-number">@i</span>
                                                    </label>
                                                </div>
                                            }
                                        </div>
                                        <span asp-validation-for="SocialInteraction" class="text-danger validation-message"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Notes Section -->
                        <div class="assessment-section" data-section="3">
                            <div class="section-header mb-4">
                                <div class="row align-items-center">
                                    <div class="col-md-8">
                                        <h4 class="section-title d-flex align-items-center">
                                            <span class="step-number me-3">3</span>
                                            <i class="fas fa-sticky-note text-primary me-2"></i>
                                            Additional Observations
                                        </h4>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="notes-container">
                                <div class="form-group-animated">
                                    <label asp-for="AdditionalNotes" class="form-label creative-label">
                                        <i class="fas fa-pencil-alt text-primary me-2"></i>
                                        Share Your Observations
                                    </label>
                                    <textarea asp-for="AdditionalNotes" class="form-control creative-input notes-textarea" 
                                              rows="5" placeholder="Tell us more about your pet's behavior, habits, or anything else you'd like to share that might help with the assessment..."></textarea>
                                    <span asp-validation-for="AdditionalNotes" class="text-danger validation-message"></span>
                                    <div class="character-count">
                                        <span id="charCount">0</span>/500 characters
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Submit Section -->
                        <div class="submit-section text-center mt-5">
                            <div class="submit-container">
                                <button type="submit" class="btn btn-primary btn-lg submit-btn">
                                    <span class="btn-content">
                                        <i class="fas fa-calculator me-2"></i>
                                        <span class="btn-text">Calculate Quality of Life Score</span>
                                    </span>
                                </button>
                                <p class="submit-note mt-3 text-muted">
                                    <i class="fas fa-shield-alt me-1"></i>
                                    Your pet's information is secure and private
                                </p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Character counter for textarea
    const textarea = document.querySelector('#AdditionalNotes');
    const charCount = document.querySelector('#charCount');
    
    if (textarea && charCount) {
        textarea.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });
    }
});
</script>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}